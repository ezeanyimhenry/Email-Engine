import{W as p,r,j as e}from"./app-JC9e3Ff7.js";import{_ as x}from"./grapes.min-MarfYlZV.js";import{D as h}from"./DashboardLayout-v8mhu6CB.js";import{i as u}from"./grapesjsBlocks-DfE_LdgB.js";const N=({template:s})=>{const{data:l,setData:a,post:c,errors:n}=p({name:s.name,content:s.content}),o=r.useRef(null);r.useEffect(()=>{const t=x.init({container:o.current,fromElement:!1,storageManager:!1,plugins:["grapesjs-preset-webpage"],pluginsOpts:{"grapesjs-preset-webpage":{}},canvas:{styles:["https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"]}});return u(t),t.setComponents(s.content),t.on("component:update",()=>{const i=t.getHtml(),d=`<!DOCTYPE html>
      <html>
        <head>
          <style>
            ${t.getCss()}
            @import url('https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css');
          </style>
        </head>
        <body>${i}</body>
      </html>`;a("content",d)}),()=>{t.destroy()}},[s]);const m=t=>{t.preventDefault(),c("/templates")};return e.jsx(h,{children:e.jsx("div",{className:"flex flex-col h-screen bg-gray-100",children:e.jsxs("div",{className:"py-8 px-6 sm:px-8 lg:px-10",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Edit Template"}),e.jsx("form",{onSubmit:m,className:"mt-6",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:t=>a("name",t.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md p-2"}),n.name&&e.jsx("p",{className:"text-red-500 text-sm",children:n.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"content",className:"block text-gray-700",children:"Content"}),e.jsx("div",{ref:o,className:"h-96 bg-white"}),n.content&&e.jsx("p",{className:"text-red-500 text-sm",children:n.content})]}),e.jsx("button",{type:"submit",className:"inline-flex items-center px-5 py-2 border border-transparent text-sm font-medium rounded-lg shadow-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:"Save Template"})]})})]})})})};export{N as default};
